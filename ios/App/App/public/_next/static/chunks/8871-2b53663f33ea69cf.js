"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8871],{84238:function(e,t,s){s.d(t,{A5:function(){return c},U8:function(){return u},bF:function(){return i},mr:function(){return d},yC:function(){return r}});var n=s(1023);s(61313);var l=s(25566);s(9109).lW;let o=null,a=async()=>{o||(o=await n.JD.create({generate_session_locally:!0,fetch:async(e,t)=>{var s;let n="string"==typeof e?new URL(e):e instanceof URL?e:new URL(e.url);n.searchParams.set("__host",n.host),n.host=(null==l?void 0:null===(s=l.env)||void 0===s?void 0:"proxy-production-ce3e.up.railway.app")||"proxy-production-ce3e.up.railway.app",n.protocol="https";let o=(null==t?void 0:t.headers)?new Headers(t.headers):e instanceof Request?e.headers:new Headers;n.searchParams.set("__headers",JSON.stringify([...o])),e instanceof Request&&(e.duplex="half");let a=new Request(n,e instanceof Request?e:void 0);return o.delete("user-agent"),fetch(a,t?{...t,headers:o}:{headers:o})},cache:new n.O7(!1)}))},i=async e=>{o||await a();let t=await (null==o?void 0:o.getInfo(e,"iOS")),s=await (null==t?void 0:t.toDash());return{video:t,dash:s}},r=async(e,t)=>(o||await a(),await (null==o?void 0:o.search(e,{type:t}))),c=async e=>{var t;return o||await a(),null===(t=await (null==o?void 0:o.getPlaylist(e)))||void 0===t?void 0:t.videos},u=async e=>{var t;o||await a();let s=null===(t=await (null==o?void 0:o.getPlaylist(e)))||void 0===t?void 0:t.videos,n=await (null==o?void 0:o.getPlaylist(e));return console.log("Playlist",s),{tracks:s,...n}},d=async e=>(o||await a(),await (null==o?void 0:o.getChannel(e)))},81634:function(e,t,s){s.d(t,{Jt:function(){return a},Oz:function(){return o},Rp:function(){return i},nP:function(){return r}});var n=s(39099),l=s(84269);let o=(0,n.Ue)((0,l.persistNSync)((e,t)=>({scProfile:null,setScProfile:t=>e({scProfile:t}),spotProfile:null,setSpotProfile:t=>e({spotProfile:t}),ytProfile:null,setYtProfile:t=>e({ytProfile:t}),scPlaylists:[],setScPlaylists:t=>e({scPlaylists:t}),addScPlaylist:s=>e({scPlaylists:[...t().scPlaylists,s]}),getScPlaylist:e=>t().scPlaylists.find(t=>t.id===e),updateScPlaylist:(s,n)=>{let l=t().scPlaylists.find(e=>e.id===s),o=t().scPlaylists.indexOf(l),a={...l,songs:n},i=t().scPlaylists;i[o]=a,e({scPlaylists:i})},spotPlaylists:[],setSpotPlaylists:t=>e({spotPlaylists:t}),addSpotPlaylist:s=>e({spotPlaylists:[...t().spotPlaylists,s]}),getSpotPlaylist:e=>t().spotPlaylists.find(t=>t.id===e),updateSpotPlaylist:(s,n)=>{let l=t().spotPlaylists.find(e=>e.id===s),o=t().spotPlaylists.indexOf(l),a={...l,songs:n},i=t().spotPlaylists;i[o]=a,e({spotPlaylists:i})},ytPlaylists:[],setYtPlaylists:t=>e({ytPlaylists:t}),addYtPlaylist:s=>e({ytPlaylists:[...t().ytPlaylists,s]}),getYtPlaylist:e=>t().ytPlaylists.find(t=>t.id===e),updateYtPlaylist:(s,n)=>{let l=t().ytPlaylists.find(e=>e.id===s),o=t().ytPlaylists.indexOf(l),a={...l,songs:n},i=t().ytPlaylists;i[o]=a,e({ytPlaylists:i})}}),{name:"profile-storage"})),a=(0,n.Ue)((e,t)=>({scKey:null,setScKey:t=>e({scKey:t})})),i=(0,n.Ue)((e,t)=>({scResults:{collection:[],next_href:""},setScResults:t=>e({scResults:t}),spotResults:[],setSpotResults:t=>e({spotResults:t}),ytResults:[],setYtResults:t=>e({ytResults:t})})),r=(0,n.Ue)((e,t)=>({queue:[],setQueue:t=>e({queue:t}),addToQueue:s=>e({queue:[...t().queue,s]}),addToFront:s=>e({queue:[s,...t().queue]}),removeFromQueue:s=>e({queue:t().queue.filter(e=>e.id!==s)}),currentPlaylist:{songs:[]},unshuffledPlaylist:{songs:[]},setUnshuffledPlaylist:t=>e({unshuffledPlaylist:t}),updatePlaylist:t=>e({currentPlaylist:t}),setCurrentPlaylist:t=>{e({currentPlaylist:t,unshuffledPlaylist:t})},playNext:()=>{if(t().queue.length>0){e({history:[...t().history,t().currentTrack]});let s=t().queue[0];e({queue:t().queue.slice(1)}),e({currentTrack:s})}else if(t().currentPlaylist.songs.length>0){e({history:[...t().history,t().currentTrack]});let s=t().currentPlaylist.songs[0];e({currentPlaylist:{...t().currentPlaylist,songs:[...t().currentPlaylist.songs.slice(1),s]}}),e({currentTrack:s})}},playPrev:()=>{if(t().history.length>0){let s=t().history[t().history.length-1];e({history:t().history.slice(0,-1)}),e({queue:[t().currentTrack,...t().queue]}),e({currentTrack:s})}},shufflePlaylist:()=>{let s=[...t().currentPlaylist.songs];for(let e=s.length-1;e>0;e--){let t=Math.floor(Math.random()*(e+1));[s[e],s[t]]=[s[t],s[e]]}e({currentPlaylist:{songs:s}})},unshufflePlaylist:()=>{e({currentPlaylist:{songs:[...t().unshuffledPlaylist.songs]}})},removeTrackFromPlaylist:s=>{e({currentPlaylist:{songs:t().currentPlaylist.songs.filter(e=>e.id!==s)}})},clearQueue:()=>e({queue:[]}),history:[],addToHistory:s=>e({history:[...t().history,s]}),currentTrack:null,setCurrentTrack:t=>{e({currentTrack:t})},isPlaying:!1,setIsPlaying:t=>e({isPlaying:t}),isPaused:!1,setIsPaused:t=>e({isPaused:t}),isShuffled:!1,setIsShuffled:t=>{e({isShuffled:t})},isLooped:!1,setIsLooped:t=>e({isLooped:t}),isMuted:!1,setIsMuted:t=>e({isMuted:t}),volume:1,setVolume:t=>e({volume:t}),progress:0,setProgress:t=>e({progress:t}),duration:0,setDuration:t=>e({duration:t}),seek:0,setSeek:t=>e({seek:t})}))},99787:function(e,t,s){var n=s(57437),l=s(2265),o=s(78077);let a=(0,l.forwardRef)((e,t)=>{let{className:s,children:l,disabled:a,type:i="button",...r}=e;return(0,n.jsx)("button",{type:i,className:(0,o.m)("\n        w-full \n        rounded-full \n        bg-green-500\n        border\n        border-transparent\n        px-3 \n        py-3 \n        disabled:cursor-not-allowed \n        disabled:opacity-50\n        text-black\n        font-bold\n        hover:opacity-75\n        transition\n      ",a&&"opacity-75 cursor-not-allowed",s),disabled:a,ref:t,...r,children:l})});a.displayName="Button",t.Z=a},48871:function(e,t,s){var n=s(57437),l=s(78077),o=s(62024),a=s(16463),i=s(14063),r=s(34728),c=s(88726),u=s(30505),d=s(93850),f=s(66648),y=s(56480),p=s(89362),h=s(43765),g=s(99787),m=s(42368),w=s(53490);t.default=e=>{let{children:t,className:s,displaySearch:v=!1}=e,P=(0,h.Z)(),x=(0,a.useRouter)(),S=(0,y.Z)(),b=(0,m.uS)(),k=(0,m.$3)(),C=(0,m.rw)(),j=(0,r.useSupabaseClient)(),{user:N}=(0,p.aF)(),O=async()=>{let{error:e}=await j.auth.signOut();P.reset(),x.refresh(),e&&c.Am.error(e.message)};return(0,n.jsxs)("div",{className:(0,l.m)("\n        h-fit \n        bg-gradient-to-b \n        from-sky-500\n        p-6\n        ",s),children:[(0,n.jsxs)("div",{className:"w-full mb-4 flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"hidden md:flex gap-x-2 items-center",children:[(0,n.jsx)("button",{onClick:()=>x.back(),className:" rounded-full  bg-black  flex  items-center  justify-center  cursor-pointer  hover:opacity-75  transition ",children:(0,n.jsx)(o.Lrt,{className:"text-white",size:35})}),(0,n.jsx)("button",{onClick:()=>x.forward(),className:" rounded-full  bg-black  flex  items-center  justify-center  cursor-pointer  hover:opacity-75  transition ",children:(0,n.jsx)(o.h2L,{className:"text-white",size:35})})]}),(0,n.jsxs)("div",{className:"flex md:hidden gap-x-2 items-center",children:[(0,n.jsx)("button",{onClick:()=>x.push("/"),className:" rounded-full  p-2  bg-white  flex  items-center  justify-center  cursor-pointer  hover:opacity-75  transition ",children:(0,n.jsx)(u.g3P,{className:"text-black",size:20})}),(0,n.jsx)("button",{onClick:()=>x.push("/search"),className:" rounded-full  p-2  bg-white  flex  items-center  justify-center  cursor-pointer  hover:opacity-75  transition ",children:(0,n.jsx)(d.Goc,{className:"text-black",size:20})})]}),(0,n.jsxs)("div",{className:"flex justify-between items-center gap-x-4",children:[v&&(0,n.jsx)(w.default,{}),(0,n.jsxs)("div",{className:"flex gap-x-2 items-center bg-sky-900 mx-1 px-2 rounded-full",children:[(0,n.jsx)(f.default,{src:"/images/logos/spot.svg",width:35,height:35,alt:"Spotify",className:"cursor-pointer",onClick:b.onOpen}),(0,n.jsx)(f.default,{src:"/images/logos/yt.svg",width:50,height:50,alt:"Youtube",className:"cursor-pointer shadow-lg",onClick:k.onOpen}),(0,n.jsx)(f.default,{src:"/images/logos/soundcloud.png",width:42,height:42,alt:"Soundcloud",className:"cursor-pointer",onClick:C.onOpen})]}),N?(0,n.jsxs)("div",{className:"flex gap-x-4 items-center",children:[(0,n.jsx)(g.Z,{onClick:O,className:"bg-white px-6 py-2",children:"Logout"}),(0,n.jsx)(g.Z,{onClick:()=>x.push("/account"),className:"bg-white",children:(0,n.jsx)(i.q1E,{})})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{children:(0,n.jsx)(g.Z,{onClick:S.onOpen,className:" bg-transparent  text-neutral-300  font-medium ",children:"Sign up"})}),(0,n.jsx)("div",{children:(0,n.jsx)(g.Z,{onClick:S.onOpen,className:"bg-white px-6 py-2",children:"Log in"})})]})]})]}),t]})}},23338:function(e,t,s){var n=s(57437),l=s(2265),o=s(78077);let a=(0,l.forwardRef)((e,t)=>{let{className:s,type:l,disabled:a,...i}=e;return(0,n.jsx)("input",{type:l,className:(0,o.m)("\n        flex \n        w-full \n        rounded-md \n        bg-neutral-700\n        border\n        border-transparent\n        px-3 \n        py-3 \n        text-sm \n        file:border-0 \n        file:bg-transparent \n        file:text-sm \n        file:font-medium \n        placeholder:text-neutral-400 \n        disabled:cursor-not-allowed \n        disabled:opacity-50\n        focus:outline-none\n      ",a&&"opacity-75",s),disabled:a,ref:t,...i})});a.displayName="Input",t.Z=a},53490:function(e,t,s){s.d(t,{default:function(){return d}});var n=s(57437),l=s(66648),o=s(12491),a=s(2265),i=s(16463),r=s(75942),c=function(e,t){let[s,n]=(0,a.useState)(e);return(0,a.useEffect)(()=>{let s=setTimeout(()=>n(e),t||500);return()=>{clearTimeout(s)}},[e,t]),s},u=s(23338),d=()=>{let e=(0,i.useRouter)(),[t,s]=(0,a.useState)(""),d=c(t,500),{searchTerm:f,setSearchTerm:y,searchResults:p,isLoading:h,getNextPage:g,searchPage:m,platform:w,setPlatform:v}=(0,r.Rx)();r.t4.Spotify;let P=w===r.t4.Youtube?"/images/logos/yt.svg":"/images/logos/ytDark.svg",x=w===r.t4.Soundcloud?"/images/logos/soundcloud.png":"/images/logos/soundcloudDark.png";return(0,a.useEffect)(()=>{let t=o.Z.stringifyUrl({url:"/search",query:{title:d}});e.push(t)},[d,e]),(0,a.useEffect)(()=>{""!==d&&y(d)},[d,e]),(0,n.jsxs)("div",{className:"mb-2 flex flex-row gap-x-2 gap-y-6 bg-cyan-900 rounded-md justify-between items-center p-1",children:[(0,n.jsx)(u.Z,{placeholder:"What do you want to listen to?",value:t,onChange:e=>s(e.target.value),onKeyDown:e=>"Enter"===e.key&&""!==t&&y(t)}),(0,n.jsx)(l.default,{src:P,width:45,height:45,alt:"Youtube",onClick:()=>v(r.t4.Youtube),className:"cursor-pointer"}),(0,n.jsx)(l.default,{src:x,width:40,height:40,alt:"Soundcloud",onClick:()=>v(r.t4.Soundcloud),className:"cursor-pointer mr-1"})]})}},42368:function(e,t,s){s.d(t,{$3:function(){return o},rw:function(){return a},uS:function(){return l}});var n=s(39099);(0,n.Ue)(e=>({isOpen:!1,onOpen:()=>e({isOpen:!0}),onClose:()=>e({isOpen:!1})}));let l=(0,n.Ue)(e=>({isOpen:!1,onOpen:()=>e({isOpen:!0}),onClose:()=>e({isOpen:!1}),platform:"Spotify"})),o=(0,n.Ue)(e=>({isOpen:!1,onOpen:()=>e({isOpen:!0}),onClose:()=>e({isOpen:!1}),platform:"Youtube"})),a=(0,n.Ue)(e=>({isOpen:!1,onOpen:()=>e({isOpen:!0}),onClose:()=>e({isOpen:!1}),platform:"Soundcloud"}))},56480:function(e,t,s){let n=(0,s(39099).Ue)(e=>({isOpen:!1,onOpen:()=>e({isOpen:!0}),onClose:()=>e({isOpen:!1})}));t.Z=n},43765:function(e,t,s){let n=(0,s(39099).Ue)(e=>({ids:[],activeId:void 0,setId:t=>e({activeId:t}),setIds:t=>e({ids:t}),reset:()=>e({ids:[],activeId:void 0})}));t.Z=n},75942:function(e,t,s){s.d(t,{Rx:function(){return w},Sc:function(){return a},dV:function(){return m},t4:function(){return o}});var n,l,o,a,i=s(57437),r=s(80910),c=s(2265),u=s(23972),d=s(89362),f=s(34728),y=s(84238),p=s(86440),h=s(81634);new u.KU;let g=(0,c.createContext)(void 0);(n=o||(o={})).Spotify="Spotify",n.Youtube="Youtube",n.Soundcloud="Soundcloud",(l=a||(a={})).Top="Top",l.Songs="Songs",l.Playlists="Playlists",l.Artists="Artists",l.Albums="Albums";let m=e=>{let[t,s]=(0,c.useState)(""),[n,l]=(0,c.useState)(!1),[o,a]=(0,c.useState)([]),[u,m]=(0,c.useState)([]),[w,v]=(0,c.useState)("Top"),[P,x]=(0,c.useState)([]),[S,b]=(0,c.useState)([]),[k,C]=(0,c.useState)([]),[j,N]=(0,c.useState)([]),[O,q]=(0,c.useState)(0),[R,_]=(0,c.useState)("Youtube"),[T,U]=(0,c.useState)(),[Y,Z]=(0,c.useState)(),[E,I]=(0,c.useState)(),{user:A}=(0,d.aF)(),L=(0,f.useSupabaseClient)(),{scKey:K,setScKey:D}=(0,h.Jt)(),{scResults:F,setScResults:J,spotResults:z,setSpotResults:H,ytResults:M,setYtResults:Q}=(0,h.Rp)(),G="Spotify"===R?"site:open.spotify.com":"Youtube"===R?"site:youtube.com":"site:soundcloud.com",W=()=>{switch(w){case"Top":return G;case"Songs":return G+"/track";case"Playlists":return G+"/playlist";case"Artists":return G+"/artist";case"Albums":return G+"/album"}},B=async(e,t)=>{try{let s=await (0,r.qC)({url:"/api/google-search",data:{searchTerm:e+" "+W(),start:t*O}});return console.log(s),s}catch(e){if(e)return alert(e.message)}},$=async e=>{l(!0);let t=await B(e,O);console.log(t),a(t),"Spotify"===R&&V(t.slice(0,1))},V=async e=>{if(0===e.length)return;let t=[];Promise.all(e.map(async e=>{let s={},n=await (0,r.qC)({url:"/api/spotify/getInfo",data:{url:e.link}});if(console.log(n),e.link.startsWith("https://open.spotify.com/track")){let t=RegExp("^(?<song>.+?)\\s+-\\s+(?:song\\s+and\\s+lyrics\\s+by\\s+)?(?<artist>.+?)(?:\\s+feat\\..+)?$"),l=e.title.match(t);if(l){let e=l.groups.song.trim(),t=l.groups.artist.split(",")[0].trim()+"";console.log("Song name: ".concat(e)),console.log("Artist name: ".concat(t));let o=await (0,y.yC)(e+" "+t,"video");console.log(o),s={...n,ytSearch:o}}else console.log("No match found"),s={...n}}else s={...n};console.log(s),t.push(s)})).then(()=>{H(t)})},X=async e=>{if(null!==K){let t=await (0,p.jN)(e,w,K);console.log(t),J(t.response),t.newKey&&t.newKey!==K&&(console.log("Setting new key"),D(t.newKey))}},ee=async e=>{let t=await (0,y.yC)(e,"Top"===w?"all":"Songs"===w?"video":"Playlists"===w?"playlist":"Artists"===w?"channel":"all");console.log(t),U(t),Q(t.results)},et=async()=>{if("Youtube"===R)console.log(T),console.log(M),console.log(T),(null==T?void 0:T.has_continuation)&&(console.log("Getting Next Page"),console.log(await (null==T?void 0:T.getContinuation())));else{q(O+1);let e=await B(t,O);a(e),"Spotify"===R&&V([e[0]])}};return(0,c.useEffect)(()=>{""!==t&&("Spotify"===R?$(t):"Soundcloud"===R?X(t):ee(t))},[t,R,w]),(0,c.useEffect)(()=>{console.log("Setting Innertube"),(async()=>{console.log(await (0,y.yC)("Alex Hormozi","video")),console.log(await (0,y.mr)("UCoDcFZ5KZ0KwBC_omalJuiA"))})(),(async()=>{let{data:e,error:t}=await L.from("keys").select("key").single();!t&&e&&(console.log("KEY:",e.key),D(e.key))})()},[]),(0,i.jsx)(g.Provider,{value:{topResults:u,songResults:P,playlistResults:S,artistResults:k,albumResults:j,searchTerm:t,setYtSearch:U,ytSearch:T,setSearchTerm:s,searchType:w,setSearchType:v,searchResults:o,isLoading:n,getNextPage:et,searchPage:O,platform:R,setPlatform:_},...e})},w=()=>{let e=(0,c.useContext)(g);if(void 0===e)throw Error("useSearchContext must be used within a SearchContextProvider");return e}},89362:function(e,t,s){s.d(t,{Di:function(){return i},aF:function(){return r}});var n=s(57437),l=s(2265),o=s(34728);let a=(0,l.createContext)(void 0),i=e=>{var t;let{session:s,isLoading:i,supabaseClient:r}=(0,o.useSessionContext)(),c=(0,o.useUser)(),u=null!==(t=null==s?void 0:s.access_token)&&void 0!==t?t:null,[d,f]=(0,l.useState)(!1),[y,p]=(0,l.useState)(null),[h,g]=(0,l.useState)(null),m=()=>r.from("users").select("*").single(),w=()=>r.from("subscriptions").select("*, prices(*, products(*))").in("status",["trialing","active"]).single();return(0,l.useEffect)(()=>{!c||d||y||h?c||i||d||(p(null),g(null)):(f(!0),Promise.allSettled([m(),w()]).then(e=>{let t=e[0],s=e[1];"fulfilled"===t.status&&p(t.value.data),"fulfilled"===s.status&&g(s.value.data),f(!1)}))},[c,i]),(0,n.jsx)(a.Provider,{value:{accessToken:u,user:c,userDetails:y,isLoading:i||d,subscription:h},...e})},r=()=>{let e=(0,l.useContext)(a);if(void 0===e)throw Error("useUser must be used within a MyUserContextProvider.");return e}},80910:function(e,t,s){s.d(t,{qC:function(){return n}}),s(25566);let n=async e=>{let{url:t,data:s}=e;console.log("posting,",t,s);let n=await fetch(t,{method:"POST",headers:new Headers({"Content-Type":"application/json"}),credentials:"same-origin",body:JSON.stringify(s)});if(!n.ok)throw console.log("Error in postData",{url:t,data:s,res:n}),Error(n.statusText);return n.json()}},86440:function(e,t,s){s.d(t,{B6:function(){return g},GW:function(){return C},Gd:function(){return x},I_:function(){return p},MD:function(){return O},Yl:function(){return P},_:function(){return q},_u:function(){return b},fZ:function(){return m},fy:function(){return h},jN:function(){return k},op:function(){return N},qh:function(){return S},yQ:function(){return j}}),s(71519);var n=s(54820),l=s.n(n),o=s(47231),a=s.n(o),i=s(92259),r=s.n(i),c=s(75942),u=s(80910),d=s(14148);let f="https://api-v2.soundcloud.com";function y(e,t,s){let n=e.includes("?")?"&":"?",l="".concat(e).concat(n,"client_id=").concat(t);return s&&(l+="".concat(s)),l}async function p(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;try{let l=n?y(e,s,n):y(e,s),o=await (0,d.Z)(l);if((403===o.status||401===o.status)&&t>0){if(401!==o.status)return{newKey:s,response:await p(e,t-1,s)};{let s=await (0,u.qC)({url:"/api/soundcloud/refreshKey",data:{}});return console.log(s),p(e,t-1,s)}}return{newKey:s,response:JSON.parse(await o.text())}}catch(e){throw console.error(e),e}}async function h(e,t){let s="".concat(f,"/tracks/").concat(e);return await p(s,1,t)}async function g(e,t){let s="".concat(f,"/resolve?url=").concat("https%3A//soundcloud.com/".concat(e));return await p(s,1,t)}async function m(e,t){let s="".concat(f,"/users/").concat(e);return await p(s,1,t)}async function w(e,t){let s="".concat(f,"/tracks?ids=").concat(encodeURIComponent(e.join(",")));return(await p(s,1,t)).response}async function v(e,t){let s=e.filter(e=>!("title"in e)),n=await w(s.map(e=>e.id),t),o=l()(n,"id");return e.map(e=>o[e.id]||e)}async function P(e,t,s){try{let n=0===s?"".concat(f,"/users/").concat(e,"/playlists"):"".concat(f,"/users/").concat(e,"/playlists?offset=").concat(s,"&limit=10"),l=(await p(n,1,t)).response,o=l.collection.map(e=>v(e.tracks,t)),i=await Promise.all(o);for(let e=0;e<l.collection.length;e++)a()(l.collection[e],"tracks",i[e]);return l}catch(e){console.error(e)}}async function x(e,t,s){let n="".concat(e,"?client_id=").concat(s,"&track_authorization=").concat(t),l=await (0,d.Z)(n);return JSON.parse(await l.text())}async function S(e,t){let s="".concat(f,"/playlists/").concat(e,"?limit=");try{let e=(await p(s,1,t)).response;return a()(e,"tracks",await v(e.tracks,t)),console.log(e),e}catch(e){throw console.error(e),e}}async function b(e){let t=[e.replace("-large","-t500x500"),e.replace("-large","-crop"),e.replace("-large","-t300x300"),e.replace("-large","-large")];for(let e=0;e<t.length;e++)try{let s=await r()(t[e]);if(200===s.status)return t[e]}catch(e){console.error(e)}return e}async function k(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.Sc.Top,s=arguments.length>2?arguments[2]:void 0,n=t===c.Sc.Songs?"".concat(f,"/search/tracks?q=").concat(e):t===c.Sc.Artists?"".concat(f,"/search/users?q=").concat(e):t===c.Sc.Playlists?"".concat(f,"/search/playlists?q=").concat(e):t===c.Sc.Albums?"".concat(f,"/search/albums?q=").concat(e):"".concat(f,"/search?q=").concat(e);return await p(n,1,s)}async function C(e,t){let s="".concat(f,"/users/").concat(e,"/tracks?representation=");return await p(s,1,t)}async function j(e,t){let s="".concat(f,"/users/").concat(e,"/toptracks?");return await p(s,1,t,"limit=10&offset=0&linked_partitioning=1")}async function N(e,t){let s="".concat(f,"/users/").concat(e,"/albums?");return await p(s,1,t,"limit=10&offset=0&linked_partitioning=1")}async function O(e,t){let s="".concat(f,"/users/").concat(e,"/playlists_without_albums?");return await p(s,1,t,"limit=10&offset=0&linked_partitioning=1")}async function q(e,t){let s="".concat(f,"/tracks/").concat(e,"/related?");return await p(s,1,t)}},14148:function(e,t,s){var n=s(25566);let l=async function(e){var t;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{headers:{}},l="string"==typeof e?new URL(e):e instanceof URL?e:new URL(e.url);l.searchParams.set("__host",l.host),l.host=(null==n?void 0:null===(t=n.env)||void 0===t?void 0:"proxy-production-ce3e.up.railway.app")||"proxy-production-ce3e.up.railway.app",l.protocol="https",console.log(null==s?void 0:s.headers);let o=(null==s?void 0:s.headers)?new Headers(s.headers):e instanceof Request?e.headers:new Headers;l.searchParams.set("__headers",JSON.stringify([...o])),e instanceof Request&&(e.duplex="half");let a=new Request(l,e instanceof Request?e:void 0);return o.delete("user-agent"),o.delete("sec-fetch-site"),fetch(a,s?{...s,headers:o}:{headers:o})};t.Z=l}}]);