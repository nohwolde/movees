"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7545],{84318:function(e,i,l){l.d(i,{Z:function(){return s}});var t=l(57437),a=l(16463),o=l(34728),n=l(12947),r=l(66648),d={src:"/_next/static/media/expand.625cdf6a.svg",height:24,width:24,blurWidth:0,blurHeight:0},s=e=>{let{song:i}=e;(0,a.useRouter)();let{supabaseClient:l}=(0,o.useSessionContext)();(0,n.Z)();let{isOpen:s,onOpen:u,onClose:A,setSong:c}=(0,n.Z)();return(0,t.jsx)("button",{className:" cursor-pointer  hover:opacity-75  transition ",onClick:e=>{e.stopPropagation(),c(i),s||u()},children:(0,t.jsx)(r.default,{className:"object-contain",onClick:()=>{c(i),s||u()},src:d,style:{filter:"invert(100%)"},alt:"Image",width:25,height:25})})}},973:function(e,i,l){var t=l(57437),a=l(2265),o=l(61379),n=l(16463),r=l(88726),d=l(34728),s=l(89362),u=l(56480);i.Z=e=>{let{songId:i,song:l}=e,A=(0,n.useRouter)(),{supabaseClient:c}=(0,d.useSessionContext)(),m=(0,u.Z)(),{user:h}=(0,s.aF)(),[v,f]=(0,a.useState)(!1);(0,a.useEffect)(()=>{(null==h?void 0:h.id)&&(async()=>{let{data:e,error:l}=await c.from("liked_songs").select("*").eq("user_id",h.id).eq("song_id",i).single();!l&&e&&f(!0)})()},[i,c,null==h?void 0:h.id]);let p=v?o.M_L:o.lo,g=async()=>{if(!h)return m.onOpen();if(v){let{error:e}=await c.from("liked_songs").delete().eq("user_id",h.id).eq("song_id",i);e?r.Am.error(e.message):f(!1)}else{let{data:e,error:t}=await c.from("songs").select("id").eq("id",i);if(!(null==e?void 0:e.length)){let{error:e}=await c.from("songs").insert([l]);if(e){r.Am.error(e.message);return}}let{error:a}=await c.from("liked_songs").insert({song_id:i,user_id:h.id});a?r.Am.error(a.message):(f(!0),r.Am.success("Success"))}A.refresh()};return(0,t.jsx)("button",{className:" cursor-pointer  hover:opacity-75  transition ",onClick:e=>{e.stopPropagation(),g()},children:(0,t.jsx)(p,{color:v?"#22c55e":"white",size:25})})}},7155:function(e,i,l){var t=l(57437),a=l(66648),o=l(43765),n=l(57771);i.Z=e=>{let{data:i,onClick:l,children:r}=e,d=(0,o.Z)();return(0,t.jsxs)("div",{className:" flex  items-center  gap-x-3  cursor-pointer  hover:bg-neutral-800/50  w-full  p-2  rounded-md ",onClick:()=>l?l(i.id):d.setId(i.id),children:[(0,t.jsxs)("div",{className:" flex  items-center  cursor-pointer   gap-x-3 w-full  rounded-md ",children:[(0,t.jsx)("div",{className:" relative  rounded-md  min-h-[60px]  min-w-[60px]  overflow-hidden ",children:(0,t.jsx)(a.default,{fill:!0,src:i.image_path||n.default,alt:"MediaItem",className:"object-cover"})}),(0,t.jsx)("div",{className:"flex flex-col gap-y-1 overflow-hidden",children:(0,t.jsx)("p",{className:"text-white truncate",children:i.name})})]}),r]})}},67545:function(e,i,l){l.d(i,{default:function(){return m}});var t=l(57437),a=l(16463),o=l(89362),n=l(43765),r=l(55598),d=l(56480),s=e=>{let i=(0,n.Z)();(0,r.Z)(),(0,d.Z)();let{subscription:l,user:t}=(0,o.aF)();return l=>{i.setId(l),i.setIds(e.map(e=>e.id))}},u=l(31504),A=l(37368),c=l(81634),m=e=>{let{songs:i}=e,l=(0,a.useRouter)(),{isLoading:n,user:r}=(0,o.aF)();s(i);let{setCurrentTrack:d}=(0,c.nP)();return(0,t.jsx)("div",{className:"flex flex-col gap-y-2 w-full p-6",children:null==i?void 0:i.map(e=>{var i,a,o,n,r,s;return(0,t.jsx)("div",{className:"flex items-center gap-x-4 w-full",children:"Soundcloud"===e.platform?(0,t.jsx)("div",{className:"flex-1 items-center gap-x-4 w-full",children:(0,A.Z)({id:e.id,user:[e.author],title:e.name,href:e.id,artwork_url:e.image,isExplicit:e.isExplicit||!1,platform:"Soundcloud",track_authorization:null===(i=e.media)||void 0===i?void 0:i.track_authorization,media:e.media},()=>{var i;return d({id:e.id,user:[e.author],title:e.name,href:e.id,artwork_url:e.image,isExplicit:e.isExplicit||!1,platform:"Soundcloud",track_authorization:null===(i=e.media)||void 0===i?void 0:i.track_authorization,media:e.media})})}):"Youtube"===e.platform?(0,t.jsx)(u.Z,{song:{id:e.id,author:e.author,name:e.name,href:e.id,image_path:e.image,views:"0 views",platform:"Youtube"},onPlay:()=>{l.push("/watch?id="+e.id),d({id:null==e?void 0:e.id,author:null==e?void 0:e.author,title:{text:null==e?void 0:e.name},thumbnails:[{url:null==e?void 0:e.image}],platform:"Youtube"})}},e.id):(0,t.jsx)(u.Z,{song:{id:null===(a=e.yt)||void 0===a?void 0:a.id,author:null===(o=e.yt)||void 0===o?void 0:o.author,name:null===(n=e.yt)||void 0===n?void 0:n.name,href:e.id,image_path:null===(r=e.yt)||void 0===r?void 0:r.image,views:"0 views",platform:"Youtube"},onPlay:()=>{var i,t,a,o;l.push("/watch?id="+e.id),d({id:null===(i=e.yt)||void 0===i?void 0:i.id,author:null===(t=e.yt)||void 0===t?void 0:t.author,title:{text:null===(a=e.yt)||void 0===a?void 0:a.name},thumbnails:[{url:null===(o=e.yt)||void 0===o?void 0:o.image}],platform:"Youtube"})}},null===(s=e.yt)||void 0===s?void 0:s.id)},e.id)})})}},37368:function(e,i,l){var t=l(57437);l(2265);var a=l(7155),o=l(973),n=l(84318);i.Z=(e,i,l)=>(0,t.jsx)("div",{children:(0,t.jsx)("div",{children:(0,t.jsx)(a.Z,{data:{id:null==e?void 0:e.id,artists:[null==e?void 0:e.user],name:null==e?void 0:e.title,href:null==e?void 0:e.permalink_url,image_path:null==e?void 0:e.artwork_url,waveform_url:null==e?void 0:e.waveform_url,track_authorization:null==e?void 0:e.track_authorization,likes_count:null==e?void 0:e.likes_count,media:null==e?void 0:e.media,platform:"Soundcloud"},onClick:i,children:(0,t.jsxs)("div",{className:"flex items-end",children:[l,(0,t.jsx)(o.Z,{songId:null==e?void 0:e.id}),(0,t.jsx)(n.Z,{song:{platform:"Soundcloud",id:null==e?void 0:e.id,name:null==e?void 0:e.title,author:null==e?void 0:e.user,image:null==e?void 0:e.artwork_url,media:{track_authorization:null==e?void 0:e.track_authorization,...null==e?void 0:e.media}}})]})})})},null==e?void 0:e.id)},31504:function(e,i,l){var t=l(57437),a=l(16463),o=l(66648),n=l(973),r=l(84318),d=l(57771);i.Z=e=>{var i,l,s,u,A,c;let{song:m,onPlay:h,children:v}=e,f=(0,a.useRouter)();return(0,t.jsxs)("div",{onClick:()=>{h(m.id),f.push("/watch?id=".concat(m.id))},className:" flex  items-center  gap-x-3  cursor-pointer  hover:bg-neutral-800/50  w-full  p-2  rounded-md ",children:[(0,t.jsxs)("div",{className:" flex  items-center  gap-x-3  cursor-pointer  w-full  ",children:[(0,t.jsxs)("div",{className:" relative  rounded-md  min-h-[60px]  min-w-[60px]  overflow-hidden group ",children:[(0,t.jsx)(o.default,{fill:!0,src:m.image_path||d.default,alt:"Song",className:"object-cover"}),(0,t.jsx)("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:v})]}),(0,t.jsxs)("div",{className:"flex-col gap-y-1 overflow-hidden",children:[(0,t.jsx)("p",{className:"text-white truncate pb-1",children:m.name}),(0,t.jsxs)("div",{className:"flex gap-x-2 overflow-hidden items-center",children:[(null===(i=m.author)||void 0===i?void 0:i.thumbnails)&&(null===(s=m.author)||void 0===s?void 0:null===(l=s.thumbnails)||void 0===l?void 0:l.length)>0&&(0,t.jsx)("div",{className:" relative  rounded-full  h-8 w-8 overflow-hidden ",children:(0,t.jsx)(o.default,{fill:!0,src:null===(A=m.author)||void 0===A?void 0:null===(u=A.thumbnails[0])||void 0===u?void 0:u.url,alt:"Artist",className:"object-cover"})}),(0,t.jsx)("p",{className:"text-neutral-400 text-sm truncate hover:text-white",onClick:e=>{var i;e.stopPropagation(),f.push("/channel?id=".concat(null===(i=m.author)||void 0===i?void 0:i.id))},children:null===(c=m.author)||void 0===c?void 0:c.name})]})]})]}),(0,t.jsx)("div",{className:"flex items-end",children:(0,t.jsxs)("div",{className:"flex gap-x-2 items-end justify-end",children:[(0,t.jsx)(n.Z,{songId:m.id}),(0,t.jsx)(r.Z,{song:{platform:"Youtube",id:m.id,name:m.name,image:m.image_path,author:m.author}})]})})]},m.id)}},12947:function(e,i,l){let t=(0,l(39099).Ue)(e=>({isOpen:!1,onOpen:()=>e({isOpen:!0}),onClose:()=>e({isOpen:!1}),song:null,setSong:i=>e({song:i})}));i.Z=t},55598:function(e,i,l){let t=(0,l(39099).Ue)(e=>({isOpen:!1,onOpen:()=>e({isOpen:!0}),onClose:()=>e({isOpen:!1})}));i.Z=t},57771:function(e,i,l){l.r(i),i.default={src:"/_next/static/media/playlist.9ff5369c.jpeg",height:1080,width:1080,blurDataURL:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/sBCgoKCgoKCwwMCw8QDhAPFhQTExQWIhgaGBoYIjMgJSAgJSAzLTcsKSw3LVFAODhAUV5PSk9ecWVlcY+Ij7u7+//CABEIAAgACAMBIgACEQEDEQH/xAAoAAEBAAAAAAAAAAAAAAAAAAAABgEBAQAAAAAAAAAAAAAAAAAAAAX/2gAMAwEAAhADEAAAALsVH//EABkQAAEFAAAAAAAAAAAAAAAAAAAREyJhYv/aAAgBAQABPwCDels//8QAFBEBAAAAAAAAAAAAAAAAAAAAAP/aAAgBAgEBPwB//8QAFBEBAAAAAAAAAAAAAAAAAAAAAP/aAAgBAwEBPwB//9k=",blurWidth:8,blurHeight:8}}}]);