(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[99],{18133:function(l,e,t){Promise.resolve().then(t.bind(t,5498))},5498:function(l,e,t){"use strict";t.r(e);var i=t(57437),o=t(66648),s=t(48871),a=t(67545),n=t(16463),d=t(2265),r=t(81634),u=t(14063),c=t(78077),m=t(82384),v=t(57771),h=t(31504),f=t(84238);e.default=()=>{var l,e,t,g,x;let p=(0,n.useSearchParams)().get("id"),b=(0,n.useRouter)(),{setCurrentTrack:y,setCurrentPlaylist:j,isShuffled:w,setIsShuffled:N,shufflePlaylist:k,setUnshuffledPlaylist:_}=(0,r.nP)(),{getYtPlaylist:P}=(0,r.Oz)(),[E,S]=(0,d.useState)({name:"",image:v.default,songs:[],tracks:[],info:{title:"",author:{id:p,name:"",thumbnails:[{url:""}]},description:"",thumbnails:[{url:""}]}}),[Y,z]=(0,d.useState)(!0);(0,d.useEffect)(()=>{let l=P(p);console.log(l),void 0!==l?S(l):(z(!1),(async()=>{let l=await (0,f.U8)(p);console.log(l),void 0!==l&&S(l)})())},[]);let C=l=>{var e,t,i,o,s;return"Youtube"===l.platform?{id:null==l?void 0:l.id,author:null==l?void 0:l.author,title:{text:null==l?void 0:l.name},thumbnails:[{url:null==l?void 0:l.image}],platform:"Youtube"}:"Spotify"===l.platform?{id:null===(e=l.yt)||void 0===e?void 0:e.id,author:null===(t=l.yt)||void 0===t?void 0:t.author,title:{text:null===(i=l.yt)||void 0===i?void 0:i.name},thumbnails:[{url:null===(o=l.yt)||void 0===o?void 0:o.image}],platform:"Youtube"}:{id:l.id,user:[l.author],title:l.name,href:l.id,artwork_url:l.image,isExplicit:l.isExplicit||!1,platform:"Soundcloud",track_authorization:null===(s=l.media)||void 0===s?void 0:s.track_authorization,media:l.media}},O=l=>{var e;return{id:null==l?void 0:l.id,author:null==l?void 0:l.author,title:{text:null==l?void 0:null===(e=l.title)||void 0===e?void 0:e.text},thumbnails:null==l?void 0:l.thumbnails,platform:"Youtube"}},Z=()=>{var l,e,t,i;if(console.log("Playing playlist"),null!==E&&((null==E?void 0:null===(l=E.songs)||void 0===l?void 0:l.length)!==0||(null==E?void 0:null===(e=E.tracks)||void 0===e?void 0:e.length)!==0)){if(Y){if(w){let l=(null===(t=E.songs)||void 0===t?void 0:t.slice()).sort(()=>.5-Math.random()),e=l[0];console.log(e);let i=C(e);y(i),j({...E,songs:[...l.slice(1).map(l=>C(l)),i]})}else{console.log("Playing",E);let l=null==E?void 0:E.songs[0];console.log(l);let e=C(l);y(e),j({...E,songs:[...null==E?void 0:E.songs.slice(1).map(l=>C(l)),e]})}}else if(w){let l=(null===(i=E.tracks)||void 0===i?void 0:i.slice()).sort(()=>.5-Math.random()),e=l[0];console.log(e);let t=O(e);y(t),j({...E,songs:[...l.slice(1).map(l=>C(l)),t]})}else{console.log("Playing",E);let l=null==E?void 0:E.tracks[0];console.log(l);let e=O(l);y(e),j({...E,songs:[...null==E?void 0:E.tracks.slice(1).map(l=>O(l)),e]})}}};return(0,i.jsxs)("div",{className:" bg-neutral-900  rounded-lg  h-full  w-full  overflow-hidden  overflow-y-auto ",children:[(0,i.jsx)(s.default,{className:(0,c.m)("\n        bg-gradient-to-b \n        from-indigo-700\n        to-b\n        "),children:(0,i.jsxs)("div",{className:"mt-20",children:[(0,i.jsxs)("div",{className:" flex  flex-col  md:flex-row  items-center  gap-x-5 ",children:[(0,i.jsxs)("div",{className:"relative h-32 w-32 lg:h-64 lg:w-64",children:[Y&&(0,i.jsx)(o.default,{className:"object-cover",fill:!0,src:(null==E?void 0:E.image)||"/images/liked.png",alt:"Playlist"}),!Y&&(0,i.jsx)(o.default,{className:"object-cover",fill:!0,src:(null==E?void 0:null===(e=E.info)||void 0===e?void 0:null===(l=e.thumbnails[0])||void 0===l?void 0:l.url)||"/images/liked.png",alt:"Playlist"})]}),(0,i.jsxs)("div",{className:"flex flex-col gap-y-2 mt-4 md:mt-0",children:[(0,i.jsx)("p",{className:"hidden md:block font-semibold text-sm",children:"Playlist"}),Y&&(0,i.jsx)("h1",{className:" text-white  text-4xl  sm:text-5xl  lg:text-7xl  font-bold ",children:null==E?void 0:E.name}),!Y&&(0,i.jsx)("h1",{className:" text-white  text-4xl  sm:text-5xl  lg:text-7xl  font-bold ",children:null==E?void 0:null===(t=E.info)||void 0===t?void 0:t.title})]})]}),(0,i.jsx)("div",{className:"mt-5 flex  flex-col  md:flex-row ",children:(0,i.jsxs)("div",{className:"gap-y-2 mt-4 items-center justify-center",children:[(0,i.jsx)("div",{className:" transition  opacity-100  rounded-full  inline-flex items-center  justify-center  bg-green-600 p-6  drop-shadow-md  translate translate-y-1/4 group-hover:opacity-100  group-hover:translate-y-0 hover:scale-110 ",onClick:()=>Z(),children:(0,i.jsx)(u.gmG,{className:"text-3xl text-white",size:25})}),(0,i.jsx)("div",{className:" transition  opacity-100  inline-flex items-center  justify-center  p-6  drop-shadow-md  translate translate-y-1/3 group-hover:translate-y-0 hover:scale-110 ",onClick:()=>N(!w),children:(0,i.jsx)(o.default,{src:m.Z,style:w?{filter:" invert(50%) sepia(52%) saturate(2434%) hue-rotate(224deg) brightness(114%) contrast(101%)"}:{filter:"invert(70%)"},alt:"Shuffle",width:60,height:60})})]})})]})}),Y&&null!==E&&(0,i.jsx)(a.default,{songs:null==E?void 0:null===(g=E.songs)||void 0===g?void 0:g.map(l=>({...l,image_path:l.image}))}),!Y&&(0,i.jsx)("div",{className:"flex flex-col gap-y-2 w-full p-6",children:null==E?void 0:null===(x=E.tracks)||void 0===x?void 0:x.map(l=>{var e;return(0,i.jsx)(h.Z,{song:{id:l.id,author:l.author,name:l.title.text,href:l.id,image_path:null===(e=l.thumbnails[0])||void 0===e?void 0:e.url,views:"0 views",platform:"Youtube"},onPlay:()=>{b.push("/watch/"+l.id),y({id:l.id,author:l.author,title:{text:l.title.text},thumbnails:l.thumbnails,platform:"Youtube"})}},l.id)})})]})}},82384:function(l,e){"use strict";e.Z={src:"/_next/static/media/shuffle.efc703ae.svg",height:29,width:29,blurWidth:0,blurHeight:0}}},function(l){l.O(0,[2420,6115,9450,1787,9982,5722,3712,8077,7057,8871,7545,2971,7023,1744],function(){return l(l.s=18133)}),_N_E=l.O()}]);